<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Victor 的自留地</title>
  
  <subtitle>Trying to do better.</subtitle>
  <link href="https://yyxtheoracle.github.io/atom.xml" rel="self"/>
  
  <link href="https://yyxtheoracle.github.io/"/>
  <updated>2022-12-26T16:29:44.075Z</updated>
  <id>https://yyxtheoracle.github.io/</id>
  
  <author>
    <name>Victor Ye</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>或许遭遇了人生最大的 setback ?</title>
    <link href="https://yyxtheoracle.github.io/post/7709adb1.html"/>
    <id>https://yyxtheoracle.github.io/post/7709adb1.html</id>
    <published>2022-06-13T15:11:01.000Z</published>
    <updated>2022-12-26T16:29:44.075Z</updated>
    
    <content type="html"><![CDATA[<p>　　6.7，毕设答辩结束后两个小时，明略告知我要毁约，仿佛当头一棒。<span id="more"></span><br>　　其实前两周在脉脉已经听到了些风声，大致是说公司动用 1500 人做了一年半的产品 (EIP) 失败了，疫情和外部环境雪上加霜，公司现金流已极度不健康，要裁员 70%，3500 人的公司只留 800 人。</p><div align=center>  <img src="https://i.niupic.com/images/2022/12/26/aehl.jpg" width=256 /></div><center style="font-size:18px;color:#C0C0C0;">CEO 发的全体邮件</center><p>　　即使消息一直在发酵，我还是相对乐观，因为那些爆料人也说了，秒针(我们部门)作为独立的核心部门，是不会有大动作的。</p><div align=center>  <img src="https://i.niupic.com/images/2022/12/25/aehj.jpg" width=256 /></div><center style="font-size:18px;color:#C0C0C0;">看着明略的同事圈热度一路飙升</center><p>　　而且，我去提前实习了近四个月，如期完成了布置给我的所有开发任务，出色地融入了团队，就算真的要毁约一批校招生，相比那些没去提前实习的同学，我也有绝对的优势能够留下。<br>　　最后，也是一丝侥幸心理，6 月份了，即使公司再没有人性，也做不出在毕业前两个礼拜毁约的举动吧，这不仅是毁人前途，也是断人后路。<br>　　但还是发生了，击碎了我最后的幻想。</p><div align=center>  <img src="https://i.niupic.com/images/2022/12/25/aehf.jpg" /></div><center style="font-size:18px;color:#C0C0C0;">甚至在 5.23 还发了入职提示邮件</center><p>　　好笑的是，在被毁约的前一天，我都还在为相同遭遇的应届生们抱不平。</p><div align=center>  <img src="https://i.niupic.com/images/2022/12/25/aehk.jpg" width=300 /></div><center style="font-size:18px;color:#C0C0C0;">一语成谶</center><p>　　7 号下午我处在崩溃的边缘，我的理性压制着杂乱稀碎的情绪，我努力告诉自己，去消化这个消息，去做对当下最好的决定。<br>　　我在找一个可以发泄的点，尝试将这个结果归咎于我的某一个错误决定或举动，但我找不到。<br>　　从去年 3 月份开始，我刷了五十多套视频，背了无数的面经八股，从 9.7 第一场面试开始，20 天拿到了 3 份 offer，10.9 明略正式给我开了 30k 的意向书，我觉得秋招圆满收官了，也拒绝了此后的所有笔面试流程。</p><div align=center>  <img src="https://i.niupic.com/images/2022/12/25/aehi.jpg" /></div><center style="font-size:18px;color:#C0C0C0;">结束我秋招的 offer</center><p>　　我开始帮朋友们辅导面试、和他们分享学习路线、解决群友们的开发问题。这份 offer 让我保持着学习的热情，让我愿意放弃最后的校园生活去公司提前适应。公司的一切也让我无比满意，顶级的办公环境、前沿的技术栈、扁平的团队氛围、还有知无不言、贴心带着我成长的 mentor。</p><div align=center>    <img src="https://i.niupic.com/images/2022/12/26/aehm.jpg" width=500 /></div><div align=center>    <img src="https://i.niupic.com/images/2022/12/26/aehn.jpg" width=500 /></div><center style="font-size:18px;color:#C0C0C0;">那时候确实很热爱这里</center><br/><div align=center>    <img src="https://i.niupic.com/images/2022/12/25/aehg.jpg" width=500 /></div><div align=center>    <img src="https://i.niupic.com/images/2022/12/25/aehh.jpg" width=500 /></div><center style="font-size:18px;color:#C0C0C0;">津铭哥对我真的很好</center> <p>　　我曾经跑在前面，但一个解约电话和一份违约金让我回到了起点。<br>　　这就是绝境了吧？秋招的另外两份 offer 询问后被告知已经没有 hc 了，形势本就惨淡的春招完全结束，补录也所剩无几，即使还有面试机会，实习之后的我专注于业务，用来应付笔面试的八股文和算法也已淡忘生疏。<br>　　更何况，离毕业只有 20 天了，要去公司办离职手续，走毁约流程，要去了解封校期间的就业办政策，处理毕业事宜，要投简历，要去捡起淡忘的八股文和算法，我问自己，这怎么可能办得到呢。<br>　　曾经的野心和理想开始反噬我，我从未陷入过这个程度的自我怀疑。<br>　　晚上，我收拾了一下情绪，开始检索各个招聘平台，牛客、毕业申、智联、boss，我投递了所有还能投递的公司。<br>　　8 号醒的时候天还黑着，看了眼手机 4 点多，但没有了睡意，起床开始看秋招时的面经和笔记。上午开始陆续有 hr 联系我。第一个面试在下午两点半，五位面试官，持续一个多小时，一面过。晚上七点，另一家公司，将近一个小时，一面过。我屏蔽了所有的社交媒体，不让自己的思绪有一丝空闲，我怕那种随之而来的窒息感。<br>　　随着 9 号两场面试的通过，我的状态好些了，但更开心的是遇到了心仪的公司：在淮海中路，位置热闹、技术栈前沿，leader 是保送交大的竞赛生，hr 给我分享了他的博客，映入眼帘的第一篇：《那个喊了十三声发物资的邻居》，翻到最下面，看到一篇 2013 年的文章：《妈的，交大》，我的第一感觉：他是个有趣的人。面试的时候他也让我感受到了一种和那些生硬地问一个个技术问题的面试官不同的感觉。腾讯会议里还有另一位女生，他告诉我，这位女生本科也是交大，硕士在密歇根大学，同样是今年的校招生，如果我加入，以后大家就是同一个 team 了，我说，我喜欢和优秀的人在一起。在我一面通过并表达强烈的加入愿景之后，他也承诺会为我加快推进流程。<br>　　9 号晚上做完了笔试，10号下午 cto 面 + hr 面，晚上 6 点半等来了 offer call。<br>　　放下手机，也许是这几天没怎么休息，有些恍惚。两天前我以为最终的结局或许就是要去国企或者某个小厂冒着野心和技术慢慢被消磨的风险去沉淀（如果消磨太多的话或许是沉沦？）两三年，幸好，现在又有了在互联网泥沼里摸爬滚打的机会。我联系了其他几家的 hr，表示已经接到了合适的 offer，也对他们表达了最诚挚的感谢，在这个时间点给了我面试的机会，让我不至于沉浸在惶恐却什么都做不了的绝望情绪里。<br>　　这几天也让我明确了一些事，好像也就两件，第一件就是去搭一个博客，我会把这篇放上去，作为第一篇文章。我突然联想到高中，当时想着要写写日记，但一直没开始，后来第一次下笔是在 2015.11.11，因为那天月考还是期中考成绩出来了，我数学没及格，很伤心，突然就有了下笔的冲动，没想到就坚持了下来，每天晚自修的最后十分钟写个几行，坚持了三年。或许这次也是个开始的契机吧。说到这个就想起来日记本还在上大寝室的架子上，不知道啥时候才能回去搬寝室。<br>　　第二件事情就是，应该再也没有过不去的坎了，至少我现在是这样觉得的。<br>　　还有很多事情要处理，先写到这吧。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;　　6.7，毕设答辩结束后两个小时，明略告知我要毁约，仿佛当头一棒。</summary>
    
    
    
    <category term="随笔" scheme="https://yyxtheoracle.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="随笔" scheme="https://yyxtheoracle.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>回调函数也能主动调用丨antd Table 组件外实现全选 &amp; 取消全选</title>
    <link href="https://yyxtheoracle.github.io/post/d87f7e0c.html"/>
    <id>https://yyxtheoracle.github.io/post/d87f7e0c.html</id>
    <published>2022-04-23T10:54:37.000Z</published>
    <updated>2022-12-26T16:33:45.167Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>　　最近在做宝马的一个项目，遇到一个很常见的需求，上个图大家就懂了:</p><div align=center>  <img src="https://i.niupic.com/images/2022/12/26/aeiB.jpg" /></div><center style="font-size:18px;color:#C0C0C0;">原型图</center><span id="more"></span><p>　　然而，antd 官网给的例子里只有在组件中的实现方法（通过 rowSelection 配置），如下图:</p><div align=center>  <img src="https://i.niupic.com/images/2022/12/27/aeiG.jpg" /></div><center style="font-size:18px;color:#C0C0C0;">antd 提供的功能</center><p>　　如果想要做到原型图这样在组件外实现全选 &amp; 取消全选，则需要更灵活地运用 rowSelection 这个配置项。</p><h1 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h1><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [selectedRowKeys, setSelectedRowKeys] = <span class="title function_">useState</span>([]);</span><br><span class="line"><span class="keyword">const</span> [selectedRows, setSelectedRows] = <span class="title function_">useState</span>([]);</span><br><span class="line"><span class="keyword">const</span> [tableData, setTableData] = <span class="title function_">useState</span>([]);</span><br><span class="line"></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">setTableData</span>(mock); <span class="comment">// 将 tableData 先设为表格内的全部数据</span></span><br><span class="line">&#125;, []); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 关键点：这个函数既作为回调函数，也能手动调用～</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleChange</span> = (<span class="params">selectedRowKeys, selectedRows</span>) =&gt; &#123;</span><br><span class="line">  <span class="title function_">setSelectedRowKeys</span>([...selectedRowKeys]);</span><br><span class="line">  <span class="title function_">setSelectedRows</span>([...selectedRows]);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 点击 选择全部 的回调函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">selectAll</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  tableData.<span class="title function_">forEach</span>(<span class="function">(<span class="params">o, i</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 遍历，和全部的 tableData 作对比，找到没有勾选的 row, 将它的 key 值保存到 selectedRowKeys 数组</span></span><br><span class="line">    <span class="keyword">if</span> (!selectedRows.<span class="title function_">includes</span>(o)) selectedRowKeys.<span class="title function_">push</span>(tableData[i].<span class="property">account</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// 手动修改 selectedRowKeys，和 Table 组件内的 selectedRowKeys 联动</span></span><br><span class="line">  <span class="title function_">handleChange</span>(selectedRowKeys, [...tableData]); </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 点击 取消全部 的回调函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">selectNone</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 手动修改 selectedRowKeys 和 selectedRows，全部置为空</span></span><br><span class="line">  <span class="title function_">handleChange</span>([], []);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rowSelection = &#123;</span><br><span class="line">  selectedRowKeys, <span class="comment">// 受控</span></span><br><span class="line">  <span class="attr">type</span>: <span class="string">&quot;checkbox&quot;</span>,</span><br><span class="line">  <span class="attr">onChange</span>: handleChange <span class="comment">// 将 handleChange 定义在外面，从而可以手动调用</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Table 组件，略去了无关配置</span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Table</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">rowKey</span>=<span class="string">&quot;account&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">columns</span>=<span class="string">&#123;columns&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">dataSource</span>=<span class="string">&#123;mock&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">rowSelection</span>=<span class="string">&#123;rowSelection&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">/&gt;</span></span></span><br></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>　　其实最关键的地方就是 rowSelection 里的 onChange，通常的回调函数我们不会直接调用，而在这里，如果要实现在表格外全选，则需要手动调用这个 onchange 。</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;　　最近在做宝马的一个项目，遇到一个很常见的需求，上个图大家就懂了:&lt;/p&gt;
&lt;div align=center&gt;
  &lt;img src=&quot;https://i.niupic.com/images/2022/12/26/aeiB.jpg&quot; /&gt;
&lt;/div&gt;
&lt;center style=&quot;font-size:18px;color:#C0C0C0;&quot;&gt;原型图&lt;/center&gt;</summary>
    
    
    
    <category term="前端开发" scheme="https://yyxtheoracle.github.io/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="antd" scheme="https://yyxtheoracle.github.io/tags/antd/"/>
    
    <category term="前端开发" scheme="https://yyxtheoracle.github.io/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
</feed>
